````mysql
create table as_vehicle.cleanse_associated_data_log
(
    id              bigint auto_increment
        primary key,
    service         varchar(30) null,
    vehicle_prod_id bigint      null,
    update_success  bit         not null
);

create table as_vehicle.cleanse_associated_data_log_backup_20210319
(
    id              bigint auto_increment
        primary key,
    service         varchar(30) null,
    vehicle_prod_id bigint      null,
    update_success  bit         not null
);

create table as_vehicle.cleanse_flyway_version
(
    installed_rank int                                 not null
        primary key,
    version        varchar(50)                         null,
    description    varchar(200)                        not null,
    type           varchar(20)                         not null,
    script         varchar(1000)                       not null,
    checksum       int                                 null,
    installed_by   varchar(100)                        not null,
    installed_on   timestamp default CURRENT_TIMESTAMP not null,
    execution_time int                                 not null,
    success        tinyint(1)                          not null
);

create table as_vehicle.cleanse_flyway_version_backup_20210319
(
    installed_rank int                                 not null
        primary key,
    version        varchar(50)                         null,
    description    varchar(200)                        not null,
    type           varchar(20)                         not null,
    script         varchar(1000)                       not null,
    checksum       int                                 null,
    installed_by   varchar(100)                        not null,
    installed_on   timestamp default CURRENT_TIMESTAMP not null,
    execution_time int                                 not null,
    success        tinyint(1)                          not null
);

create table as_vehicle.cleanse_vehicle_log
(
    id                  bigint auto_increment,
    vehicle_prod_id     bigint      not null,
    origin_vin          varchar(50) null,
    origin_fin          varchar(50) null,
    new_vin             varchar(50) null,
    new_fin             varchar(50) null,
    vin_cleanse_status  varchar(50) null,
    fin_cleanse_status  varchar(50) null,
    new_vehicle_prod_id bigint      null,
    constraint cleanse_vehicle_log_id_uindex
        unique (id),
    constraint cleanse_vehicle_log_vehicle_prod_id_uindex
        unique (vehicle_prod_id)
);

create table as_vehicle.dealer_code_mapping
(
    id        bigint auto_increment
        primary key,
    dealer_id varchar(50) not null,
    gs_code   varchar(50) null,
    xy_code   varchar(50) null
);

create table as_vehicle.dealer_code_mapping_backup_20210319
(
    id        bigint auto_increment
        primary key,
    dealer_id varchar(50) not null,
    gs_code   varchar(50) null,
    xy_code   varchar(50) null
);

create table as_vehicle.gb_user
(
    id          bigint auto_increment
        primary key,
    d_user_id   varchar(50) not null,
    dealer_code varchar(50) not null,
    d_posop_num varchar(50) not null,
    constraint unique_idx_gb_user
        unique (dealer_code, d_posop_num)
);

create table as_vehicle.gb_user_backup_20210319
(
    id          bigint auto_increment
        primary key,
    d_user_id   varchar(50) not null,
    dealer_code varchar(50) not null,
    d_posop_num varchar(50) not null,
    constraint unique_idx_gb_user
        unique (dealer_code, d_posop_num)
);

create table as_vehicle.guidance_file
(
    id            bigint auto_increment
        primary key,
    damage_code   varchar(20)                        not null comment '故障码',
    file_encode   varchar(50)                        not null comment '指导文件编码',
    file_id       varchar(50)                        not null comment '文件id',
    upload_time   datetime                           not null comment '上传时间',
    operator_id   varchar(50)                        not null comment '操作人id',
    operator_name varchar(50)                        not null comment '操作人姓名',
    updated_time  datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    created_time  datetime default CURRENT_TIMESTAMP not null comment '创建时间',
    constraint idx_damage_code
        unique (damage_code)
);


create table as_vehicle.initial_vehicle_customer
(
    id               bigint auto_increment
        primary key,
    dealer_id        varchar(50)                          not null,
    car_plate_number varchar(50)                          null,
    vin              varchar(50)                          null,
    contacts_id      varchar(50)                          null,
    contacts_name    varchar(50)                          null,
    contacts_tel     varchar(20)                          null,
    contacts_role    varchar(50)                          null,
    owner_id         varchar(50)                          null,
    company_id       varchar(50)                          null,
    is_deleted       tinyint(1) default 0                 not null,
    created_time     datetime   default CURRENT_TIMESTAMP null,
    updated_time     datetime   default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP,
    gender           varchar(6)                           null
);

create table as_vehicle.insurance_company
(
    id           bigint auto_increment
        primary key,
    company_name varchar(100) not null
);


create table as_vehicle.kdm_package
(
    id           bigint auto_increment
        primary key,
    package_no   varchar(16)                        not null comment '套餐号',
    damage_code  varchar(20)                        not null comment '故障码',
    type         varchar(10)                        not null comment '类型',
    code         varchar(64)                        not null comment '配件号/工时代码',
    quantity     double                             null comment '数量',
    is_optional  tinyint(1)                         not null comment '是否可选',
    updated_time datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    created_time datetime default CURRENT_TIMESTAMP not null comment '创建时间'
);

create table as_vehicle.migration_log
(
    id         bigint auto_increment
        primary key,
    table_name varchar(50)                         not null,
    start_time timestamp default CURRENT_TIMESTAMP not null,
    end_time   timestamp                           null
);

create table as_vehicle.oem_vehicle_reminder
(
    id                       bigint auto_increment
        primary key,
    fin                      varchar(50)                           null,
    vin                      varchar(50)                           not null,
    model                    varchar(40)                           null,
    effective_date           datetime                              not null,
    end_date                 datetime                              not null,
    description              varchar(50)                           not null,
    is_delete                tinyint(1)  default 0                 not null,
    created_time             datetime    default CURRENT_TIMESTAMP not null,
    updated_time             datetime    default CURRENT_TIMESTAMP not null,
    damage_code              varchar(50)                           null,
    comment                  varchar(512)                          null,
    buffer_time_until        int                                   null,
    included_completion_rate varchar(100)                          null,
    vehicle_business_type    varchar(16) default 'PC'              null
);


create table as_vehicle.schema_version
(
    installed_rank int                                 not null
        primary key,
    version        varchar(50)                         null,
    description    varchar(200)                        not null,
    type           varchar(20)                         not null,
    script         varchar(1000)                       not null,
    checksum       int                                 null,
    installed_by   varchar(100)                        not null,
    installed_on   timestamp default CURRENT_TIMESTAMP not null,
    execution_time int                                 not null,
    success        tinyint(1)                          not null
);


create table as_vehicle.service_campaign_master
(
    id           bigint auto_increment
        primary key,
    code         varchar(100)                       null,
    description  text                               null,
    vin          varchar(50)                        null,
    vehicle_type varchar(1)                         null,
    from_date    datetime                           not null,
    until_date   datetime                           null,
    status       varchar(1)                         null,
    type         varchar(1)                         null,
    create_time  datetime default CURRENT_TIMESTAMP null,
    update_time  datetime default CURRENT_TIMESTAMP null,
    sys_time     datetime default CURRENT_TIMESTAMP null
);

create table as_vehicle.service_contract_type_mapping
(
    eva_service_type varchar(20) not null
        primary key,
    type             varchar(10) not null
);

create table as_vehicle.service_damage_mapping
(
    id           bigint auto_increment
        primary key,
    publish_time datetime     null,
    status       varchar(1)   null,
    recall_code  varchar(100) null,
    damage_code  varchar(100) null,
    account      int(20)      null,
    topic        text         null
);

create table as_vehicle.service_history_detail_vc
(
    id                 varchar(36)    not null
        primary key,
    description        varchar(200)   null,
    duration_of_labour decimal(12, 2) null,
    fin                varchar(18)    null,
    inv_no             varchar(20)    null,
    item_number        varchar(50)    null,
    line               smallint(5)    null,
    quantity_of_part   int(22)        null,
    record_type        char           null,
    service_date       datetime       null,
    warranty_code      varchar(50)    null,
    wip_number         varchar(5)     null,
    service_number     varchar(18)    null,
    quantity           int(22)        null
);


create table as_vehicle.service_history_z8
(
    id                    varchar(36)    not null
        primary key,
    account               varchar(8)     null,
    amount                decimal(12, 2) null,
    company_code          varchar(2)     null,
    dealer_id             varchar(10)    null,
    fin                   varchar(18)    null,
    inv_no                varchar(20)    null,
    invoice_number        varchar(100)   null,
    mileage               int(8)         null,
    mot_status            varchar(10)    null,
    sales_no              varchar(10)    null,
    service_date          datetime       null,
    service_detail        varchar(200)   null,
    wip_number            varchar(5)     null,
    plate_number          varchar(20)    null,
    fuel_type             varchar(20)    null,
    inv_date              datetime       null,
    related_sa_id         varchar(50)    null,
    service_number        varchar(18)    null,
    vin                   varchar(18)    null,
    transfer_status       varchar(18)    null,
    notify_time_for_3r    datetime       null,
    repair_time_for_3r    datetime       null,
    category              varchar(20)    null,
    customer_type_numbers varchar(100)   null,
    sa_observation_detail varchar(200)   null,
    service_order_id      varchar(20)    null
);


create table as_vehicle.service_measure_buffer
(
    id                    bigint auto_increment
        primary key,
    dealer_id             varchar(50) default ''                not null comment '经销商ID',
    damage_code           varchar(20)                           not null comment '故障码',
    fin                   varchar(50) default ''                not null comment '车辆识别号',
    model                 varchar(50)                           null,
    buffer_end_date       datetime                              null,
    description           varchar(256)                          null,
    created_time          datetime    default CURRENT_TIMESTAMP not null,
    updated_time          datetime    default CURRENT_TIMESTAMP not null,
    file_encode           varchar(50)                           null,
    file_description      varchar(256)                          null,
    file_end_date         datetime                              null,
    service_type          varchar(50)                           null,
    vehicle_business_type varchar(16) default 'PC'              null,
    constraint fin
        unique (fin, damage_code, dealer_id, vehicle_business_type)
);


create table as_vehicle.service_measure_buffer_tmp
(
    id              bigint auto_increment
        primary key,
    dealer_id       varchar(50)                        null,
    damage_code     varchar(20)                        null,
    fin             varchar(50)                        null,
    model           varchar(50)                        null,
    buffer_end_date datetime                           null,
    description     varchar(256)                       null,
    created_time    datetime default CURRENT_TIMESTAMP not null,
    updated_time    datetime default CURRENT_TIMESTAMP not null
);


create table as_vehicle.service_measure_file
(
    id                         bigint auto_increment
        primary key,
    file_name                  varchar(256)                          not null,
    original_created_timestamp datetime                              null,
    original_file_id           varchar(64) default ''                null,
    damage_code                varchar(32) default ''                null,
    created_time               datetime    default CURRENT_TIMESTAMP null,
    updated_time               datetime                              null
);


create table as_vehicle.service_measure_upload_record
(
    id                    bigint auto_increment
        primary key,
    upload_type           varchar(16)                           not null comment '上传类型: VEHICLE_REMINDER、BUFFER_TIME',
    status                varchar(16)                           not null comment '状态：SUCCESS成功  FAILED 失败 UPLOADING 上传中',
    damage_code           varchar(20)                           null comment '故障识别码',
    description           varchar(256)                          null comment '描述',
    upload_time           datetime                              not null comment '上传时间',
    complete_time         datetime                              null comment '完成时间',
    count                 int                                   null comment '条目数量',
    error_message         varchar(500)                          null comment '错误信息',
    operator_id           varchar(50)                           not null comment '操作人id',
    operator_name         varchar(50)                           not null comment '操作人姓名',
    updated_time          datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    created_time          datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    vehicle_business_type varchar(16) default 'PC'              null
);


create table as_vehicle.shadow_change_as_vehicle_vehicle_prod
(
    id                   bigint                   null,
    fin                  varchar(50) charset utf8 null,
    guarantee_start_date datetime                 null
);

create table as_vehicle.shadow_change_as_vehicle_vehicle_prod_actual_date
(
    id                         bigint                   null,
    fin                        varchar(50) charset utf8 null,
    actual_delivery_date       date                     null,
    origin_retail_invoice_date date                     null
);

create table as_vehicle.unmatched_dealers
(
    table_name varchar(50) not null,
    xy_code    varchar(50) null
);

create table as_vehicle.unmatched_dealers_backup_20210319
(
    table_name varchar(50) not null,
    xy_code    varchar(50) null
);



create table as_vehicle.vehicle_3r_certificate
(
    id             bigint auto_increment
        primary key,
    vin            varchar(50)                        not null,
    dealer_id      varchar(50)                        not null,
    snapshot_id    varchar(255)                       not null,
    file_name      varchar(255)                       not null,
    invoice_code   varchar(20)                        null,
    invoice_number varchar(20)                        null,
    uploader       varchar(20)                        not null,
    user_type      varchar(20)                        null,
    file_source    varchar(20)                        not null,
    created_time   datetime                           not null,
    update_time    datetime default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP,
    sys_time       datetime default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP
);


create table as_vehicle.vehicle_activity
(
    id              bigint auto_increment
        primary key,
    dealer_id       varchar(50)                        not null,
    operator_id     varchar(50)                        null,
    vehicle_prod_id bigint                             null,
    vehicle_info_id bigint                             null,
    activity_type   varchar(100)                       null,
    created_time    datetime default CURRENT_TIMESTAMP null
);


create table as_vehicle.vehicle_actual_delivery
(
    id             bigint auto_increment
        primary key,
    vin            varchar(50)                        not null,
    dealer_id      varchar(50)                        not null,
    snapshot_id    varchar(255)                       not null,
    file_name      varchar(255)                       not null,
    invoice_code   varchar(20)                        null,
    invoice_number varchar(20)                        null,
    uploader       varchar(20)                        not null,
    user_type      varchar(20)                        null,
    file_source    varchar(20)                        not null,
    created_time   datetime                           not null,
    update_time    datetime default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP,
    sys_time       datetime default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP
);


create table as_vehicle.vehicle_customer_history
(
    id                  bigint auto_increment
        primary key,
    vehicle_customer_id bigint                               not null,
    vehicle_id          bigint                               not null,
    entity_id           varchar(50)                          null,
    dealer_id           varchar(50)                          null,
    role                varchar(50)                          null,
    linked              tinyint(1) default 1                 not null,
    type                varchar(50)                          not null,
    created_time        datetime   default CURRENT_TIMESTAMP null
);

create table as_vehicle.vehicle_info_tmp
(
    id                        bigint auto_increment
        primary key,
    dealer_id                 varchar(50)                        null,
    dms_id                    varchar(50)                        null,
    dms_dealer_code           varchar(50)                        null,
    vehicle_prod_id           bigint                             null,
    car_plate_number          varchar(50)                        null,
    mileage                   int                                null,
    first_registration_date   datetime                           null,
    warranty_expiration_date  datetime                           null,
    insurance_expiration_date datetime                           null,
    status                    varchar(20)                        null,
    next_service_date         datetime                           null,
    created_time              datetime default CURRENT_TIMESTAMP not null,
    insurance_company_name    varchar(100)                       null,
    updated_time              datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    annual_check_date         datetime                           null,
    next_service_mileage      int                                null,
    mileage_timestamp         datetime                           null,
);


create table as_vehicle.vehicle_invoice
(
    id             bigint auto_increment
        primary key,
    vin            varchar(50)  not null,
    dealer_id      varchar(50)  not null,
    snapshot_id    varchar(255) not null,
    file_name      varchar(255) not null,
    invoice_code   varchar(20)  null,
    invoice_number varchar(20)  null,
    uploader       varchar(20)  not null,
    user_type      varchar(20)  null,
    file_source    varchar(20)  not null,
    created_time   datetime     not null
);

create table as_vehicle.vehicle_market_note
(
    id                    bigint auto_increment
        primary key,
    fin                   varchar(50)                           not null,
    description           varchar(255)                          null,
    start_effective_date  date                                  null,
    end_effective_date    date                                  null,
    created_time          datetime    default CURRENT_TIMESTAMP null,
    category              varchar(10)                           null,
    vehicle_business_type varchar(16) default 'PC'              null
);


create table as_vehicle.vehicle_prepare_center
(
    id           bigint auto_increment
        primary key,
    company_code varchar(10) not null
);


create table as_vehicle.vehicle_prod
(
    id                          bigint auto_increment
        primary key,
    fin                         varchar(50)                        null,
    vin                         varchar(50)                        null,
    engine_number               varchar(50)                        null comment '发动机号',
    brand                       varchar(50)                        null comment '品牌',
    model                       varchar(50)                        null comment '车型',
    model_variant               varchar(50)                        null comment '车款',
    description_cn              varchar(100)                       null,
    description_en              varchar(100)                       null,
    class_level                 varchar(20)                        null comment '车系',
    created_time                datetime default CURRENT_TIMESTAMP not null,
    guarantee_start_date        datetime                           null comment '三包开始日期',
    updated_time                datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    eva_first_registration_date datetime                           null comment '上牌日期',
    paint                       varchar(255)                       null comment '颜色',
    trim                        varchar(255)                       null comment '内饰',
    paint_code                  varchar(255)                       null,
    trim_code                   varchar(255)                       null,
    model_year                  varchar(10)                        null comment '车型年款',
    warranty_3R_validity        tinyint(1)                         null comment '三包有效性',
    warranty_3R_validity_reason varchar(128)                       null,
    commission_no               varchar(20)                        null,
    battery_number              varchar(50)                        null comment '高压电池序列号',
    electric_motor_1_number     varchar(50)                        null comment '电机序列号1',
    electric_motor_2_number     varchar(50)                        null comment '电机序列号2',
    sys_time                    datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    next_service_date           datetime                           null comment '建议下次保养日期',
    next_service_mileage        int                                null comment '建议下次保养里程',
    last_service_history_id     varchar(50)                        null comment '上次保养历史id',
    sale_country                varchar(50)                        null comment '销售地区',
    actual_delivery_date        date                               null comment '实际交车日期',
    origin_retail_invoice_date  date                               null comment '零售开票日期',
    warranty_expiration_date    datetime                           null comment '保修到期日期',
    fin_reversed                varchar(50) as (reverse(`fin`)),
    vin_reversed                varchar(50) as (reverse(`vin`)),
    manufacture_date            date                               null comment '生产日期',
    constraint idx_vehicle_prod_fin
        unique (fin),
    constraint idx_vehicle_prod_vin
        unique (vin)
);

create table as_vehicle.vehicle_customer
(
    id           bigint auto_increment
        primary key,
    vehicle_id   bigint                               not null,
    entity_id    varchar(50)                          not null,
    role         varchar(50)                          not null,
    dealer_id    varchar(50)                          null,
    created_time datetime   default CURRENT_TIMESTAMP null,
    updated_time datetime   default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    linked       tinyint(1) default 1                 not null,
    sys_time     datetime   default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    constraint vehicle_customer_ibfk_1
        foreign key (vehicle_id) references as_vehicle.vehicle_prod (id)
);

create table as_vehicle.vehicle_info
(
    id                        bigint auto_increment
        primary key,
    dealer_id                 varchar(50)                        null,
    dms_id                    varchar(50)                        null,
    dms_dealer_code           varchar(50)                        null,
    vehicle_prod_id           bigint                             null,
    car_plate_number          varchar(50)                        null,
    mileage                   int                                null,
    first_registration_date   datetime                           null,
    warranty_expiration_date  datetime                           null,
    insurance_expiration_date datetime                           null,
    status                    varchar(20)                        null,
    next_service_date         datetime                           null,
    created_time              datetime default CURRENT_TIMESTAMP not null,
    insurance_company_name    varchar(100)                       null,
    updated_time              datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    annual_check_date         datetime                           null,
    next_service_mileage      int                                null,
    mileage_timestamp         datetime                           null,
    sys_time                  datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    individual                tinyint(1)                         null,
    car_plate_number_reversed varchar(50) as (reverse(`car_plate_number`)),
    constraint idx_plate_number_dealer_id
        unique (car_plate_number, dealer_id),
    constraint unique_idx_prod_id_dealer_id
        unique (vehicle_prod_id, dealer_id),
    constraint vehicle_info_ibfk_1
        foreign key (vehicle_prod_id) references as_vehicle.vehicle_prod (id)
);


create table as_vehicle.vehicle_prod_copy
(
    id                          bigint auto_increment
        primary key,
    fin                         varchar(50)                        null,
    vin                         varchar(50)                        null,
    engine_number               varchar(50)                        null,
    brand                       varchar(50)                        null,
    model                       varchar(50)                        null,
    model_variant               varchar(50)                        null,
    description_cn              varchar(100)                       null,
    description_en              varchar(100)                       null,
    class_level                 varchar(20)                        null,
    created_time                datetime default CURRENT_TIMESTAMP not null,
    guarantee_start_date        datetime                           null,
    updated_time                datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    eva_first_registration_date datetime                           null,
    paint                       varchar(255)                       null,
    trim                        varchar(255)                       null,
    paint_code                  varchar(255)                       null,
    trim_code                   varchar(255)                       null,
    model_year                  varchar(10)                        null,
    warranty_3R_validity        tinyint(1)                         null,
    warranty_3R_validity_reason varchar(128)                       null,
    commission_no               varchar(20)                        null,
    battery_number              varchar(50)                        null,
    electric_motor_1_number     varchar(50)                        null,
    electric_motor_2_number     varchar(50)                        null,
    sys_time                    datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    next_service_date           datetime                           null,
    next_service_mileage        int                                null,
    last_service_history_id     varchar(50)                        null,
    sale_country                varchar(50)                        null,
    actual_delivery_date        date                               null,
    origin_retail_invoice_date  date                               null,
    warranty_expiration_date    datetime                           null,
    fin_reversed                varchar(50) as (reverse(`fin`)),
    vin_reversed                varchar(50) as (reverse(`vin`)),
    constraint idx_vehicle_prod_fin
        unique (fin),
    constraint idx_vehicle_prod_vin
        unique (vin)
);


create table as_vehicle.vehicle_pwei
(
    id                bigint auto_increment
        primary key,
    created_time      datetime   default CURRENT_TIMESTAMP not null,
    updated_time      datetime   default CURRENT_TIMESTAMP not null,
    fin               varchar(50)                          null,
    vin               varchar(50)                          null,
    release_date      datetime                             null,
    is_delete         tinyint(1) default 0                 not null,
    confirm_date      datetime                             null,
    confirm_dealer_id varchar(50)                          null,
    confirm_sa_id     varchar(50)                          null
);


create table as_vehicle.vehicle_service_measure
(
    id                   bigint auto_increment
        primary key,
    fin                  varchar(50)                        null,
    damage_code          varchar(20)                        null,
    campaign_description varchar(256)                       null,
    campaign_status      varchar(1)                         null comment 'C-close;O-open',
    campaign_from_date   datetime                           null,
    campaign_until_date  datetime                           null,
    file_encode          varchar(50)                        null,
    service_type         varchar(50)                        null,
    created_time         datetime                           null,
    status               varchar(1)                         null comment 'U-unknow; W-wariting for service;I-checkin;Y-finished',
    updated_time         datetime                           null,
    sys_time             datetime default CURRENT_TIMESTAMP null on update CURRENT_TIMESTAMP
)
    charset = utf8;

create table as_vehicle.vehicle_service_measure_master_data
(
    id                    bigint auto_increment
        primary key,
    fin                   varchar(50) default ''                not null comment '车架号',
    damage_code           varchar(20) default ''                not null comment '故障码',
    file_description      varchar(256)                          null comment '文件描述',
    start_date            datetime                              null comment 'DC开始日期',
    end_date              datetime                              null comment 'DC终止日期',
    file_encode           varchar(50)                           null comment '指导文件编码',
    service_type          varchar(50)                           null comment '服务类型',
    vehicle_business_type varchar(16) default 'PC'              null comment '车辆类型',
    gs_code               varchar(50) default ''                not null,
    dealer_id             varchar(50) default ''                not null,
    model                 varchar(50)                           null comment '车型',
    buffer_end_date       datetime                              null comment '豁免终止日期',
    remind_description    varchar(256)                          null comment '提醒文案',
    created_time          datetime    default CURRENT_TIMESTAMP null,
    updated_time          datetime    default CURRENT_TIMESTAMP null,
    constraint idx_fin_damage_code_dealer_id_vehicle_business_type
        unique (fin, damage_code, dealer_id, vehicle_business_type)
);

create table as_vehicle.vin_fin_mapping
(
    id            bigint auto_increment,
    vin           varchar(50)                           null,
    fin           varchar(50)                           null,
    source_status varchar(50) default 'SUCCESS'         null,
    created_at    datetime    default CURRENT_TIMESTAMP null,
    constraint vin_fin_mapping_fin_uindex
        unique (fin),
    constraint vin_fin_mapping_id_uindex
        unique (id),
    constraint vin_fin_mapping_vin_uindex
        unique (vin)
);


create table as_vehicle.vpc_dealer
(
    id           bigint auto_increment
        primary key,
    vega_code    varchar(50)                        not null,
    code         varchar(50)                        null,
    created_time datetime default CURRENT_TIMESTAMP null
);

create table as_vehicle.wall_box_order
(
    id                   bigint auto_increment
        primary key,
    province             varchar(16)  default '' not null comment '省份',
    city                 varchar(16)  default '' not null comment '城市',
    detail_address       varchar(255) default '' not null comment '详细地址',
    contacts_name        varchar(50)             null comment '联系人姓名',
    contact_phone_number varchar(16)             null comment '联系电话',
    comments             varchar(255)            null comment '地址备注',
    source               varchar(16)             not null comment '地址来源, sales会有两个来源',
    vin                  varchar(32)             null comment '车辆的车架号',
    quotation_id         varchar(32)             null comment 'sales的quotation_id',
    dealer_id            varchar(32)             not null comment '经销商的dealerId 或者 branchDealerId',
    status               varchar(32)             not null comment '状态',
    wall_box_type        varchar(32)             null comment '墙盒类型',
    created_at           datetime                not null comment '创建时间',
    updated_at           datetime                not null comment '更新时间',
    version              bigint                  not null comment '更新版本',
    as_order_id          varchar(50)             null,
    customer_name        varchar(50)             null comment '车主姓名',
    customer_mobile      varchar(16)             not null comment '车主电话',
    wall_box_device_id   varchar(32)             null comment '墙盒编码'
);


create table as_vehicle.wall_box_order_history
(
    id                bigint auto_increment
        primary key,
    wall_box_order_id bigint       null comment '墙盒订单Id',
    status            varchar(32)  not null comment '记录类型，对应wall_box_order的status',
    operator_id       bigint       null comment '操作人员userId, 当时O2O更新的记录时为NULL',
    description       varchar(255) null comment '寄送单号/comments/cancel reason',
    relevant_date     datetime     null comment '勘测日期/寄送日期/预计安装日期/实际安装日期',
    created_at        datetime     not null comment '创建时间',
    wall_box_type     varchar(32)  null comment '墙盒类型'
);



create table as_vehicle.warranty_3r_validity_history
(
    id              bigint auto_increment
        primary key,
    vehicle_prod_id bigint                             not null,
    dealer_id       varchar(50)                        not null,
    created_time    datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP,
    validity        tinyint(1)                         not null,
    reason          varchar(128)                       null
);


````

