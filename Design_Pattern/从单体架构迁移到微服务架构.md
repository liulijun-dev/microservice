# 1. 微服务概念精粹

## 1.1 微服务迁移的原则：微服务的核心特点

**作用：**微服务的设计一定要围绕微服务的核心特点进行，否则都不是一个合理的微服务设计

**核心特点：**

- 独立部署：反模式包括共享数据库，分布式的大单体
- 面向业务领域建模：微服务首先是业务逻辑上的高内聚、低耦合，然后才是业务逻辑内的工程实现上的高内聚、低耦合（人人都是产品经理）

注：

- 独立部署是我们追求的目标，面向业务领域建模是独立部署的前提；
- 独立部署可以更快的发布产品，面向业务领域建模可以控制业务功能变更的范围；
- 独立部署是区别于单体应用的核心特点（单体应用指应用的部署单元）
- 偶合包括**实现偶合**和**部署偶合**

## 1.2 接口设计原则

**指导原则：**

- 信息隐藏原则：不要暴露不必要的信息给外界

注：暴露后再修改就要考虑兼容，反之则没有什么担忧

**设计方法：**

- 由外向内：根据上游服务或微服务自身所处领域的需求设计接口
- 由内向外：接口粒度越来越粗

注：这两个设计方法都是满足信息隐藏原则的

## 1.3 内聚与偶合

# 2. 微服务迁移

## 2.1 微服务迁移的关注点

**应该关注什么：**

- 可以处理多少个微服务：决定我们微服务迁移的策略
- 如何划分微服务边界：防止微服务让事情变得一团糟
- 组织架构的调整：减少交付冲突和沟通成本

**不应该关注什么:**

- 技术选型：这是实现层面，而不是决策层面

注：

- 为什么不关注基础设施？因为服务上云的趋势，云会为我们提供相应的能力；
- 为什么不关注团队的能力？可以处理多少个微服务中需要考虑团队的能力，如果服务上云，对团队的能力要求其实就是学习云的操作

# 参考资料

1. https://wangwei1237.github.io/monolith-to-microservices/docs/What_Are_Microservices.html